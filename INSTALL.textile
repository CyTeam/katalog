We currently support installing on Debian 5.0 Lenny and Ubuntu 10.04 Lucid systems.

h2. Install rubygems

To get access to the binaries provided by rails and other gems you need to extend your PATH.

<pre>
export PATH=/var/lib/gems/1.8/bin:$PATH
</pre>

h3. On Ubuntu Lucid

We need to add huerlisi PPA archive to get a rubygems version supporting rails 3:

<pre>
sudo apt-add-repository ppa:huerlisi/ppa
</pre>

Now install the rubygems package:

<pre>
sudo apt-get install rubygems
</pre>

h3. Alternative Installation

The second possibility to install ruby via RVM (Ruby version manager).
Dependencies for RVM: see here http://rvm.beginrescueend.com/packages/

Install RVM with and follow the instructions:

<pre>
bash < <( curl http://rvm.beginrescueend.com/releases/rvm-install-head )
</pre>

After the installation of RVM you can install the latest version of Ruby 1.8.7 with:

<pre>
rvm install ruby-1.8.7
</pre>

Install gems for use:
<pre>
gem install bundler
</pre>

After that you can jump directly to step "Install katalog".

h2. Install Ruby'n'Rails

katalog is developed and tested using Rails 3.0.5 and Ruby 1.8.7

Install packages to support installing rails:

<pre>
sudo apt-get install irb ruby libruby-extras libmysqlclient-dev libxml2-dev libxslt-dev ruby-dev build-essential
</pre>

Install rails using gem:

<pre>
sudo gem install rake bundler
</pre>

h2. Install katalog

Install current katalog from git repository. We'll use this checkout as working directory from now on:

<pre>
git clone http://github.com/huerlisi/katalog.git
cd katalog
mkdir -p tmp log
</pre>

Install dependency gems:

<pre>
bundle
</pre>

Setup database:

Copy database.yml.example to database.yml in config/ and edit as needed. The
katalog only works with MySQL (and could possibly be made working with
PostgreSQL). SQLite is no alternative because Sphinx, the freetext search
engine doesn't work with it.

<pre>
cp config/database.yml.example config/database.yml
</pre>

Initialize the database:

<pre>
rake db:setup
</pre>

Setup freetext search

We're using Sphinx as our freetext search engine. We depend on a version
> 0.9.9, but Ubuntu Lucid only comes with 0.9.8, but Maverick has the required
package. Simplest way to get it installed on Lucid is to manually download
the .deb and install:

<pre>
wget http://de.archive.ubuntu.com/ubuntu/pool/universe/s/sphinxsearch/sphinxsearch_0.9.9-6_i386.deb
sudo dpkg -i sphinxsearch_0.9.9-6_i386.deb
</pre>

For 64bit:

<pre>
wget http://de.archive.ubuntu.com/ubuntu/pool/universe/s/sphinxsearch/sphinxsearch_0.9.9-6_amd64.deb
sudo dpkg -i sphinxsearch_0.9.9-6_amd64.deb
</pre>

Copy development.sphinx.conf.example to development.sphinx.conf in config/ and
update the database credentials as needed.

<pre>
cp config/development.sphinx.conf.example config/development.sphinx.conf
</pre>

After copy configure in config/development.sphinx.conf your database credentials.
Attention: The database credentials appeare two times in the config file.

Initialize the search index:

<pre>
rake ts:reindex && rake ts:start
</pre>

When the startup fails a possible error could be a false port, so change the port from 9312 to 9311.
